{"version":3,"file":"index.js","sources":["../src/js/refactor-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const imageCardsTemplate = imageArray => {\n  return imageArray\n    .map(el => {\n      return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${el.webformatURL}\"\n            data-source=\"${el.largeImageURL}\"\n            alt=\"${el.tags}\"\n          />\n        </a>\n        <div class=\"image-notes\">\n          <div class=\"image-notes-tabs\">\n            <p class=\"notes-text\">Likes</p>\n            <p>${el.likes}</p>\n          </div>\n          <div class=\"image-notes-tabs\">\n            <p class=\"notes-text\">Views</p>\n            <p>${el.views}</p>\n          </div>\n          <div class=\"image-notes-tabs\">\n            <p class=\"notes-text\">Comments</p>\n            <p>${el.comments}</p>\n          </div>\n          <div class=\"image-notes-tabs\">\n            <p class=\"notes-text\">Downloads</p>\n            <p>${el.downloads}</p>\n          </div>\n        </div>\n      </li>`\n  })\n    .join(\"\")\n}\n\nexport function imageInsert() {\n  const gallery = document.querySelector(\".gallery\");\n\n  return {\n    add(imageArray) {\n      gallery.innerHTML = imageCardsTemplate(imageArray);\n    },\n\n    reset() {\n      gallery.innerHTML = '';\n    }\n  };\n}\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {imageInsert} from \"./refactor-functions.js\"\n\nexport function fetchImagesPixabay(query) {\n  const searchParams = new URLSearchParams({\n    key: '47642074-633fbcdbc226b1edbeb1e203e',\n    q: `${query}`,\n    orientation: 'horizontal',\n    image_type: 'photo',\n    safesearch: 'true',\n  });\n\n  const box = new SimpleLightbox('.gallery a');\n  const loader = document.querySelector('.loader')\n  loader.classList.add('is-visible')\n\n  const galleryModule = imageInsert()\n  galleryModule.reset()\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n  .then (response => {\n    if (!response.ok) {\n      throw new Error ('Wrong resource address')\n    }\n    return response.json()\n  } )\n\n  .then (images => {\n    if (images.hits.length === 0) {\n      iziToast.show({\n        color: 'red',\n        position: 'topLeft',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      })\n    }\n\n    galleryModule.add(images.hits)\n    box.refresh()\n  })\n\n  .catch (err => {\n    console.log(err)\n  })\n\n  .finally(() => loader.classList.remove('is-visible'))\n}\n\n\n","import { fetchImagesPixabay } from \"./js/pixabay-api.js\"\n\nconst userQuery = document.querySelector(\".search-form\")\n\nuserQuery.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  fetchImagesPixabay(userQuery.elements.input.value)\n})\n\n"],"names":["imageCardsTemplate","imageArray","el","imageInsert","gallery","fetchImagesPixabay","query","searchParams","box","SimpleLightbox","loader","galleryModule","response","images","iziToast","err","userQuery","e"],"mappings":"6vBAAA,MAAMA,EAAqBC,GAClBA,EACJ,IAAIC,GACI;AAAA,wCAC2BA,EAAG,aAAa;AAAA;AAAA;AAAA,mBAGrCA,EAAG,YAAY;AAAA,2BACPA,EAAG,aAAa;AAAA,mBACxBA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMTA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAG,SAAS;AAAA;AAAA;AAAA,YAI1B,EACE,KAAK,EAAE,EAGL,SAASC,GAAc,CAC5B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,MAAO,CACL,IAAIH,EAAY,CACdG,EAAQ,UAAYJ,EAAmBC,CAAU,CAClD,EAED,OAAQ,CACNG,EAAQ,UAAY,EACrB,CACL,CACA,CCvCO,SAASC,EAAmBC,EAAO,CACxC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGD,CAAK,GACX,YAAa,aACb,WAAY,QACZ,WAAY,MAChB,CAAG,EAEKE,EAAM,IAAIC,EAAe,YAAY,EACrCC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,IAAI,YAAY,EAEjC,MAAMC,EAAgBR,EAAa,EACnCQ,EAAc,MAAO,EAErB,MAAM,4BAA4BJ,CAAY,EAAE,EAC/C,KAAMK,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAO,wBAAwB,EAE3C,OAAOA,EAAS,KAAM,CAC1B,CAAK,EAEF,KAAMC,GAAU,CACXA,EAAO,KAAK,SAAW,GACzBC,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,UACV,QAAS,0EACjB,CAAO,EAGHH,EAAc,IAAIE,EAAO,IAAI,EAC7BL,EAAI,QAAS,CACjB,CAAG,EAEA,MAAOO,GAAO,CACb,QAAQ,IAAIA,CAAG,CACnB,CAAG,EAEA,QAAQ,IAAML,EAAO,UAAU,OAAO,YAAY,CAAC,CACtD,CChDA,MAAMM,EAAY,SAAS,cAAc,cAAc,EAEvDA,EAAU,iBAAiB,SAAWC,GAAM,CAC1CA,EAAE,eAAc,EAChBZ,EAAmBW,EAAU,SAAS,MAAM,KAAK,CACnD,CAAC"}